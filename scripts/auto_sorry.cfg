//on Tk message script by Bukz. little mod by kirin.
// Edited to have various sorry messages by Infinity
if (! (strstr $mapstartalways tkchk)) [add2alias mapstartalways [sleep 1000 [tkchk]]] []

//List of sorry messages to make them random
sorrymessages = ["sry" "sorry" "Sorry!" "my bad :(" "shit! Sorry!" "Sorry" "So sorry!" "sry :(" "shit, sorry!" "sorry!"]
//List of random delays
rnddelaysry = "1250 2000 3000 4000 5000"

//To decide if you want it activated or not (0 to deactivate)
autosorry = 1

tkchk = [
    if $autosorry [
        if (! (strcmp (at $conline) "3you")) [] [ // Workaround for stupid people who use "you" in their nicks
        if (strstr $conline "you busted teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you picked off teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you peppered teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you sprayed teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you punctured teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you shredded teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you busted teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you slashed teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you splattered teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you headshot teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        if (strstr $conline "you gibbed teammate ") [sleep (at $rnddelaysry (rnd 5)) [say (concatword % (at $sorrymessages (rnd 10)))];conline [ ]] []
        ]
    ]
sleep 1 [tkchk]
]
newmenu "sorrymsg"
menuitemtextinput "message on TeamKill: " "result $srymsg" "srymsg = $arg1"
